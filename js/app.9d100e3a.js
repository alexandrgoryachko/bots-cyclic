(function(e){function t(t){for(var r,n,i=t[0],l=t[1],u=t[2],c=0,p=[];c<i.length;c++)n=i[c],s[n]&&p.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("64a9"),s=a.n(r);s.a},1:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),s=a("2f62"),o={state:{salaryDay:"",salaryRate:8.5,workedHours:"",prepayment:230.34},mutations:{setSalaryRate:function(e,t){e.salaryRate=t},setSalaryDay:function(e,t){e.salaryDay=t},setWorkedHours:function(e,t){e.workedHours=t},setPrepayment:function(e,t){e.prepayment=t}},actions:{setSalaryDay:function(e,t){var a=e.commit;a("setSalaryDay",t)}},getters:{}},n={state:{message:{}},mutations:{setMessage:function(e,t){e.message=t}},actions:{},getters:{}};r["a"].use(s["a"]);var i=new s["a"].Store({modules:{salary:o,popup:n}}),l=a("1dce"),u=a.n(l),d=a("28dd"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("main",[a("salary"),a("popup")],1)])},p=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("h1",{staticClass:"text-center display-4 pt-4 pb-2"},[e._v("Salary Calculator")])])}],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col col-lg-10 offset-lg-1"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"form-group"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.salaryDay.$model,expression:"$v.salaryDay.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.salaryDay.$error||e.$v.salaryDay.$firstTouch},attrs:{type:"date",required:"",id:"salaryDay","aria-describedby":"salaryDayInfo",placeholder:"Enter salary day",name:"salaryDay"},domProps:{value:e.$v.salaryDay.$model},on:{blur:[function(t){e.setTouched(e.$v.salaryDay),e.getRates()},function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.$v.salaryDay,"$model",t.target.value.trim())}}}),a("div",{staticClass:"invalid-feedback d-block"},[e.$v.salaryDay.required||!e.$v.salaryDay.$error&&!e.$v.salaryDay.$firstTouch?e._e():a("div",[e._v("Salary Day is required")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dollarRate"}},[e._v("Dollar Rate "),e.salaryData.dollarRateDay?a("span",[e._v("on "),a("b",[e._v(e._s(e.salaryData.dollarRateDay))]),e._v(" BYN")]):e._e()]),a("div",{staticClass:"position-relative"},[a("i",{staticClass:"fas fa-sync-alt fa-spin position-absolute loading",class:{"d-none":!e.loading}}),a("input",{staticClass:"form-control",attrs:{type:"number",readonly:"",id:"dollarRate","aria-describedby":"dollarRateInfo",placeholder:"Dollar rate",name:"dollarRate"},domProps:{value:e.rate}})])]),a("div",{staticClass:"form-group"},[e._m(1),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.salaryRate.$model,expression:"$v.salaryRate.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.salaryRate.$error||e.$v.salaryRate.$firstTouch},attrs:{type:"number",required:"",min:"0",step:"0.1",id:"salaryRate","aria-describedby":"salaryRateInfo",placeholder:"Enter salary rate",name:"salaryRate"},domProps:{value:e.$v.salaryRate.$model},on:{blur:[function(t){e.setTouched(e.$v.salaryRate)},function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.$v.salaryRate,"$model",t.target.value.trim())}}}),a("div",{staticClass:"invalid-feedback d-block"},[e.$v.salaryRate.required||!e.$v.salaryRate.$error&&!e.$v.salaryRate.$firstTouch?e._e():a("div",[e._v("Salary Rate is required")]),e.$v.salaryRate.minValue||!e.$v.salaryRate.$error&&!e.$v.salaryRate.$firstTouch?e._e():a("div",[e._v("Salary Rate should be greather than 0")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"workedHours"}},[a("i",{staticClass:"text-danger"},[e._v("*")]),e._v(" Worked Hours "),e.salaryData.workedHoursMonth?a("span",[e._v("in "),a("b",[e._v(e._s(e.salaryData.workedHoursMonth))])]):e._e()]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.workedHours.$model,expression:"$v.workedHours.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.workedHours.$error||e.$v.workedHours.$firstTouch},attrs:{type:"number",required:"",min:"0",step:"1",id:"workedHours","aria-describedby":"workedHoursInfo",placeholder:"Enter worked hours",name:"workedHours"},domProps:{value:e.$v.workedHours.$model},on:{blur:[function(t){e.setTouched(e.$v.workedHours)},function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.$v.workedHours,"$model",t.target.value.trim())}}}),a("div",{staticClass:"invalid-feedback d-block"},[e.$v.workedHours.required||!e.$v.workedHours.$error&&!e.$v.workedHours.$firstTouch?e._e():a("div",[e._v("Worked Hours is required")]),e.$v.workedHours.minValue||!e.$v.workedHours.$error&&!e.$v.workedHours.$firstTouch?e._e():a("div",[e._v("Worked Hours should be greather than 0")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Prepayment"}},[e._v("Prepayment")]),a("div",{staticClass:"input-group"},[e._m(2),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.prepayment.$model,expression:"$v.prepayment.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.prepayment.$error},attrs:{type:"number",id:"prepayment","aria-describedby":"PrepaymentInfo",placeholder:"Enter prepayment",name:"prepayment",step:"0.01"},domProps:{value:e.$v.prepayment.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.prepayment,"$model",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),a("div",{staticClass:"invalid-feedback d-block"},[!e.$v.prepayment.minValue&&e.$v.prepayment.$error?a("div",[e._v("Prepayment should be greather than 0")]):e._e(),e.$v.prepayment.minValue&&!e.$v.prepayment.twoDigitsAfterPoint&&e.$v.prepayment.$error?a("div",[e._v("Prepayment should be a number with 2 digits after point")]):e._e()])])]),a("div",{staticClass:"form-group pt-3 text-center"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.$v.$invalid,type:"submit"}},[e._v("Calculate")])])])])])},y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"salaryDay"}},[a("i",{staticClass:"text-danger"},[e._v("*")]),e._v(" Salary Day")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"salaryRate"}},[a("i",{staticClass:"text-danger"},[e._v("*")]),e._v(" Salary Rate")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"PrepaymentInfo"}},[e._v("$")])])}],v=(a("96cf"),a("3b8d")),f=(a("3b2b"),a("b5ae")),h=a("d225"),$=a("b0b4"),b=a("bd86"),g=function(){function e(){Object(h["a"])(this,e),Object(b["a"])(this,"salaryDay",void 0),Object(b["a"])(this,"workedHours",void 0),Object(b["a"])(this,"workedHoursMonth",void 0),Object(b["a"])(this,"dollarRateDay",void 0)}return Object($["a"])(e,[{key:"setSalaryDay",value:function(e){var t=new Date(e);return this.salaryDay=e,this.setMonthAndDay(t),this.setWorkedHours(t),{workedHoursMonth:this.workedHoursMonth,dollarRateDay:this.dollarRateDay,workedHours:this.workedHours}}},{key:"setMonthAndDay",value:function(e){this.dollarRateDay=e.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"});var t=new Date(e.getFullYear(),e.getMonth()-1,1);this.workedHoursMonth=t.toLocaleString("en-US",{month:"long"})}},{key:"setWorkedHours",value:function(e){var t,a=new Date(e.getFullYear(),e.getMonth()-1,1),r=a.getMonth(),s=0;while(a.getMonth()===r)t=a.getDay(),0!==t&&6!==t&&s++,a.setDate(a.getDate()+1);this.workedHours=8*s}}]),e}(),_=function(){function e(t,a){Object(h["a"])(this,e),this.title=t,this.text=a}return Object($["a"])(e,null,[{key:"showMessage",value:function(){document.getElementById("modalPopup").click()}}]),e}(),w=new RegExp("^[0-9]+(.[0-9][0-9]?)?$"),k=function(e){return!e||w.test(e)},D={name:"Salary",data:function(){return{rate:null,loading:!1}},computed:{salaryRate:{get:function(){return this.$store.state.salary.salaryRate},set:function(e){this.$store.commit("setSalaryRate",e)}},salaryDay:{get:function(){return this.$store.state.salary.salaryDay},set:function(e){this.$store.dispatch("setSalaryDay",e)}},workedHours:{get:function(){return this.$store.state.salary.workedHours},set:function(e){this.$store.commit("setWorkedHours",e)}},prepayment:{get:function(){return this.$store.state.salary.prepayment},set:function(e){this.$store.commit("setPrepayment",e)}},salaryData:function(){var e={};if(this.salaryDay){var t=new g;e=t.setSalaryDay(this.salaryDay),this.$store.commit("setWorkedHours",e.workedHours)}return e}},validations:{salaryRate:{required:f["required"],minValue:Object(f["minValue"])(0)},salaryDay:{required:f["required"]},workedHours:{required:f["required"],minValue:Object(f["minValue"])(0)},prepayment:{minValue:Object(f["minValue"])(0),twoDigitsAfterPoint:k}},methods:{setTouched:function(e){e.$firstTouch=!(e.$dirty||e.$model)},getRates:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.salaryDay){e.next=18;break}return this.loading=!0,t=new Date(this.salaryDay),a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),e.prev=4,e.next=7,this.$http.get("https://www.nbrb.by/API/ExRates/Rates/USD?ParamMode=2&onDate=".concat(a));case 7:r=e.sent,this.rate=r.body.Cur_OfficialRate,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](4),console.error("Error on request to server"),this.rate=null;case 15:return e.prev=15,this.loading=!1,e.finish(15);case 18:case"end":return e.stop()}},e,this,[[4,11,15,18]])}));function t(){return e.apply(this,arguments)}return t}(),submit:function(){if(this.$v.$invalid)return!1;var e=(this.salaryRate*this.workedHours-this.prepayment).toFixed(2);this.$store.commit("setMessage",new _("Salary - Prepayment + Tax:","$".concat(this.salaryRate*this.workedHours," - $").concat(this.prepayment," = $").concat(e))),_.showMessage()}}},R=D,C=a("2877"),H=Object(C["a"])(R,m,y,!1,null,null,null);H.options.__file="Salary.vue";var x=H.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{staticClass:"btn btn-primary d-none",attrs:{id:"modalPopup",type:"button","data-toggle":"modal","data-target":"#exampleModalCenter"}},[e._v("\n        Launch modal popup\n    ")]),a("div",{staticClass:"modal fade",attrs:{id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v(e._s(e.message.title))]),e._m(0)]),a("div",{staticClass:"modal-body"},[e._v("\n                    "+e._s(e.message.text)+"\n                ")]),e._m(1)])])])])},S=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")])])}],M={name:"Popup",computed:{message:function(){return this.$store.state.popup.message}}},O=M,j=Object(C["a"])(O,P,S,!1,null,null,null);j.options.__file="Popup.vue";var T=j.exports,E={name:"App",components:{Salary:x,Popup:T}},q=E,V=(a("034f"),Object(C["a"])(q,c,p,!1,null,null,null));V.options.__file="App.vue";var I=V.exports;r["a"].config.productionTip=!1,r["a"].use(u.a),r["a"].use(d["a"]),new r["a"]({store:i,render:function(e){return e(I)}}).$mount("#app")},"64a9":function(e,t,a){}});